@use "../../variables" as *;

// Progress archive page
.progresses {
    display: grid;
    grid-template-columns: 1fr $page-intro-width-bottom;
    
    &__grid {
        grid-column: 1; // Content takes first column
        display: flex;
        flex-direction: column;
        gap: $space-md;
        padding: $space-md;
    }
}

.progress {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: $space-md;
    text-decoration: none;
    color: inherit;
    position: relative;
    
    // Invisible border for layout
    &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        border: 8px solid transparent;
        pointer-events: none;
        opacity: 0;
    }
    
    &__content {
        display: flex;
        flex-direction: column;
        padding: calc(6px + $space-md);
    }
    
    &__name {
        font-size: $font-size-lg;
        font-weight: $font-weight-body;
        margin: 0 0 $space-sm 0;
    }
    
    &__description {
        margin: 0 0 $space-xs 0;
    }
    
    &__date {
        margin: 0;
        font-size: $font-size-sm;
    }
    
    &__photo {
        width: 100%;
        overflow: hidden;
        
        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
    }
    
    &:hover {
        text-decoration: none;
        
        &::before {
            opacity: 1;
            background-image: var(--page-bg-image);
            background-size: cover;
            background-position: center;
            border: 6px solid transparent; // Creates the border "frame"
            // Use mask to only show the border
            mask: linear-gradient(#fff 0 0) content-box, 
                  linear-gradient(#fff 0 0);
            mask-composite: exclude;
            -webkit-mask: linear-gradient(#fff 0 0) content-box, 
                          linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            padding: 8px;
        }
    }
}